<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8" pageEncoding="UTF-8">
<title>Editar Contrato</title>

<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
	crossorigin="anonymous">
<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
	integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
	crossorigin="anonymous"></script>


<link
	href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css"
	rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
<script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/es.js"></script>
<!-- Archivo de idioma en español -->


</head>

<body>



	<form th:action="@{/Contrato/Editar/{CodigoContrato}(CodigoContrato=${EditarContrato.contratoId})}" 
      th:object="${EditarContrato}" method="post" class="container w-50">


		<h6 class="mb-3 lead text-white bg-success shadow py-3 ps-3 rounded-3 fw-bold">
			Editar Contrato</h6>

	
		<input type="hidden" th:field="*{contratoId}"/>
		<input type="hidden" th:field="*{contratoEstado}" />
		<input type="hidden" th:field="*{contratoEmpleadoId.empCodigo}" />
		

		<!-- Área -->
		<div class="mb-3">
			<label for="banco" class="form-label">Área</label> <select
				class="form-select" id="banco" th:field="*{contratoAreaId}">
				<option value="" selected>Seleccione un Área</option>
				<option th:each="area : ${Areas}" th:value="${area.areaId}"
					th:text="${area.areaNombre} + ' | ' + ${area.areaSalarioBase}">
				</option>
			</select>

			<div th:if="${#fields.hasErrors('contratoAreaId')}"
				th:errors="*{contratoAreaId}" class="text-danger"></div>
		</div>

		<!-- Salario -->
		<div class="mb-3">
			<label for="ContratoSalario" class="form-label">Salario</label> <input
				type="text" class="form-control" id="ContratoSalario"
				th:field="*{contratoSalario}"
				placeholder="Ingrese salario del contrato" autocomplete="off">
			<div th:if="${#fields.hasErrors('contratoSalario')}"
				th:errors="*{contratoSalario}" class="text-danger"></div>
		</div>

		<!-- Detalles -->
		<div class="mb-3">
			<label for="ContratoDetalle" class="form-label">Detalles</label> <input
				type="text" class="form-control" id="ContratoDetalle"
				th:field="*{contratoDetalle}"
				placeholder="Ingrese los detalles del contrato" autocomplete="off">
			<div th:if="${#fields.hasErrors('contratoDetalle')}"
				th:errors="*{contratoDetalle}" class="text-danger"></div>
		</div>

		<!-- Modalidad -->
		<div class="mb-3">
			<label for="ContratoModalidad" class="form-label">Modalidad</label> <select
				class="form-select" id="ContratoModalidad"
				th:field="*{contratoModalidad}">
				<option value="" selected>Seleccione una modalidad de
					trabajo</option>
				<option value="FA">Formación o Aprendizaje</option>
				<option value="PF">Plazo Fijo</option>
				<option value="IN">Indefinido</option>
				<option value="OS">Obra o Servicio</option>
				<option value="SU">Suplencia</option>
			</select>
			<div th:if="${#fields.hasErrors('contratoModalidad')}"
				th:errors="*{contratoModalidad}" class="text-danger"></div>
		</div>

		<!-- Fecha de Inicio -->
		<div class="mb-3">
			<label for="ContratoFechaInicio" class="form-label">Fecha de
				Inicio</label> <input type="text" class="form-control"
				id="ContratoFechaInicio" th:field="*{contratoFechaInicio}"
				placeholder="Ingrese fecha de inicio.">
			<div th:if="${#fields.hasErrors('contratoFechaInicio')}"
				th:errors="*{contratoFechaInicio}" class="text-danger"></div>
		</div>

		<!-- Fecha de Finalización -->
		<div class="mb-3">
			<label for="ContratoFechaFin" class="form-label">Fecha de
				Finalización</label> <input type="text" class="form-control"
				id="ContratoFechaFin" th:field="*{contratoFechaFin}"
				placeholder="Ingrese fecha de finalización.">
			<div th:if="${#fields.hasErrors('contratoFechaFin')}"
				th:errors="*{contratoFechaFin}" class="text-danger"></div>

		</div>

		<div th:if="${ErrorFechas != ''}">
			<span th:text="${ErrorFechas}" class="text-danger"></span>
		</div>

		<!-- Jornada Laboral -->
		<div class="mb-3">
			<label class="form-label">Jornada Laboral</label>
			<div class="d-flex gap-5">
				<div class="form-check">
					<input class="form-check-input" type="radio"
						th:field="*{contratoJornada}" id="JornadaCompleto" value="TC">
					<label class="form-check-label" for="JornadaCompleto">
						Tiempo Completo </label>
				</div>
				<div class="form-check">
					<input class="form-check-input" type="radio"
						th:field="*{contratoJornada}" id="JornadaParcial" value="TP">
					<label class="form-check-label" for="JornadaParcial">
						Tiempo Parcial </label>
				</div>
			</div>
			<div th:if="${#fields.hasErrors('contratoJornada')}"
				th:errors="*{contratoJornada}" class="text-danger"></div>

		</div>

		<!-- Botones -->
		<div class="mb-3 d-flex gap-2">
			<button type="submit" class="btn btn-primary">Guardar</button>




			<a class="btn-icon-text fs-12 fw-bold btn btn-warning rounded-3"
				th:href="@{/Contrato/Lista(CodigoEmpleado=${EditarContrato.contratoEmpleadoId.empCodigo})}">
				Cancelar </a>
		</div>

	</form>

	<script>
		flatpickr("#ContratoFechaInicio", {
			dateFormat : "d-m-Y",
			minDate : "today",
			locale : "es"
		});

		flatpickr("#ContratoFechaFin", {
			dateFormat : "d-m-Y",
			minDate : "today",
			locale : "es"
		});
	</script>

</body>

</html>


